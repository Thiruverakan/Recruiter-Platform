{% extends 'dashboard_base.html' %}

{% block dashboard_content %}
<div class="max-w-3xl mx-auto">
    <div class="flex items-center mb-8 animate-fade-in-up">
        <a href="{% url 'interview_list' %}" class="mr-4 text-gray-400 hover:text-white transition-colors">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
        </a>
        <div>
            <h2 class="text-3xl font-display font-bold text-white mb-2">Edit Interview</h2>
            <p class="text-gray-400">Update details for {{ object.candidate.name }}</p>
        </div>
    </div>

    <form method="post" class="space-y-6 animate-fade-in-up" style="animation-delay: 0.1s;">
        {% csrf_token %}

        <div class="glass rounded-xl p-8 space-y-6">
            <div class="space-y-2">
                <label for="id_interviewer" class="text-sm font-medium text-gray-300 ml-1">Interviewer</label>
                <select name="interviewer" id="id_interviewer" required class="input-field bg-gray-800 text-white">
                    {% for interviewer in interviewers %}
                    <option value="{{ interviewer.id }}" class="text-black bg-white" {% if
                        object.interviewer.id==interviewer.id %}selected{% endif %}>
                        {{ interviewer.name }}
                    </option>
                    {% endfor %}
                </select>
            </div>

            <div class="space-y-2">
                <label for="id_date" class="text-sm font-medium text-gray-300 ml-1">Date & Time</label>
                <!-- Formatting value for datetime-local input is tricky in Django templates without a custom filter or widget. 
                     We try to just rely on the form or manually formatting. 
                     Django's UpdateView usually passes a form. We can render form fields manually or iterate.
                     Let's try standard manual rendering with value injection. -->
                <input type="datetime-local" name="date" id="id_date"
                    value="{{ object.date|date:'Y-m-d' }}T{{ object.date|time:'H:i' }}" required
                    class="input-field bg-gray-800">
            </div>

            <div class="space-y-2">
                <label for="id_notes" class="text-sm font-medium text-gray-300 ml-1">Notes</label>
                <textarea name="notes" id="id_notes" rows="4"
                    class="input-field bg-gray-800">{{ object.notes|default:'' }}</textarea>
            </div>
        </div>

        <div class="flex justify-end gap-4">
            <a href="{% url 'interview_list' %}"
                class="px-6 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors">
                Cancel
            </a>
            <button type="submit" class="btn-primary w-auto px-8">
                Update Interview
            </button>
        </div>
    </form>
</div>
{% endblock %}